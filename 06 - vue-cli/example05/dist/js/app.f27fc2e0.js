(function(e){function t(t){for(var n,l,s=t[0],u=t[1],i=t[2],f=0,p=[];f<s.length;f++)l=s[f],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&p.push(a[l][0]),a[l]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);c&&c(t);while(p.length)p.shift()();return o.push.apply(o,i||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var u=r[s];0!==a[u]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},a={app:0},o=[];function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var c=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0f0a":function(e,t,r){"use strict";var n=r("acd2"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-nav",{attrs:{tabs:"",align:"center"}},[r("b-nav-item",{attrs:{to:"/",exact:"","exact-active-class":"active"}},[e._v("List")]),r("b-nav-item",{attrs:{to:"/user","active-class":"active"}},[e._v("Form")])],1),r("router-view")],1)},o=[],l=r("2877"),s={},u=Object(l["a"])(s,a,o,!1,null,null,null),i=u.exports,c=r("8c4f"),f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("b-card",{attrs:{"bg-variant":"light"}},[r("b-form",[r("b-form-group",{attrs:{label:"欄位:"}},[r("b-form-checkbox-group",{model:{value:e.display.column,callback:function(t){e.$set(e.display,"column",t)},expression:"display.column"}},[r("b-form-checkbox",{attrs:{value:"name"}},[e._v("姓名")]),r("b-form-checkbox",{attrs:{value:"sex"}},[e._v("性別")]),r("b-form-checkbox",{attrs:{value:"age"}},[e._v("年齡")]),r("b-form-checkbox",{attrs:{value:"phone"}},[e._v("電話")]),r("b-form-checkbox",{attrs:{value:"email"}},[e._v("E-mail")])],1)],1),r("b-form-group",{attrs:{label:"性別:"}},[r("b-form-checkbox-group",{model:{value:e.display.sex,callback:function(t){e.$set(e.display,"sex",t)},expression:"display.sex"}},[r("b-form-checkbox",{attrs:{value:"male"}},[e._v("男")]),r("b-form-checkbox",{attrs:{value:"female"}},[e._v("女")])],1)],1)],1),r("b-table",{attrs:{striped:"",hover:"",id:"users-table",items:e.users,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage},scopedSlots:e._u([{key:"cell(id)",fn:function(t){return[r("b-link",{on:{click:function(r){return r.preventDefault(),e.deleteUser(t.value)}}},[e._v("X")])]}},{key:"cell(name)",fn:function(t){return[r("router-link",{attrs:{to:"/user/"+t.item.id}},[e._v(" "+e._s(t.value)+" ")])]}},{key:"cell(phone)",fn:function(t){return[e._v(" "+e._s(e._f("phoneFormat")(t.value))+" ")]}},{key:"cell(email)",fn:function(t){return[r("a",{attrs:{href:"mailto:"+t.value}},[e._v(" "+e._s(t.value)+" ")])]}}])}),r("b-pagination",{attrs:{"aria-controls":"users-table","total-rows":e.users.length,"per-page":e.perPage,"first-text":"First","prev-text":"Prev","next-text":"Next","last-text":"Last",align:"center"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)},p=[],m=(r("4de4"),r("caad"),r("d3b7"),r("2532"),r("bc3a")),b=r.n(m),d={data:function(){return{display:{column:["name","sex","age","phone","email"],sex:["male","female"]},table:[],currentPage:1,perPage:5}},filters:{phoneFormat:function(e){return e.substring(0,4)+"-"+e.substring(4,7)+"-"+e.substring(7)}},computed:{fields:function(){var e=new Array;e.push({key:"id",label:""});for(var t=0;t<this.display.column.length;t++)e.push({key:this.display.column[t],sortable:!0});return e},users:function(){var e=this;return this.table.filter((function(t,r,n){return e.display.sex.includes(t.sex)}))}},methods:{deleteUser:function(e){var t=this;b.a.delete("http://localhost:3001/users/"+e).then((function(e){t.init()})).catch((function(e){console.log(e)})).finally((function(){}))},init:function(){var e=this;b.a.get("http://localhost:3001/users").then((function(t){e.table=t.data})).catch((function(e){console.log(e)})).finally((function(){}))}},mounted:function(){this.init()}},h=d,v=(r("bd9a"),Object(l["a"])(h,f,p,!1,null,"72fe4811",null)),g=v.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("b-card",{attrs:{"bg-variant":"light"}},[r("b-form",[r("b-form-group",{attrs:{label:"姓名:","label-cols":"2"}},[r("b-form-input",{attrs:{type:"text",placeholder:"Enter name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("b-form-group",{attrs:{label:"性別:","label-cols":"2"}},[r("b-form-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[r("b-form-radio",{attrs:{value:"male"}},[e._v("男")]),r("b-form-radio",{attrs:{value:"female"}},[e._v("女")])],1)],1),r("b-form-group",{attrs:{label:"年齡:","label-cols":"2"}},[r("b-form-input",{attrs:{type:"number",placeholder:"Enter age"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),r("b-form-group",{attrs:{label:"電話:","label-cols":"2"}},[r("b-form-input",{attrs:{type:"text",placeholder:"Enter phone"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),r("b-form-group",{attrs:{label:"E-mail:","label-cols":"2"}},[r("b-form-input",{attrs:{type:"email",placeholder:"Enter email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("b-button-group",[e.isUpdate?r("b-button",{attrs:{variant:"primary"},on:{click:function(t){return t.preventDefault(),e.updateUser()}}},[e._v("修改")]):r("b-button",{attrs:{variant:"primary"},on:{click:function(t){return t.preventDefault(),e.addUser()}}},[e._v("新增")]),r("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.$router.push("/")}}},[e._v("取消")])],1)],1)],1)],1)},y=[],_=(r("b0c0"),{data:function(){return{form:{name:"",sex:"male",age:0,phone:"",email:""}}},computed:{isUpdate:function(){return void 0!=this.$route.params.id}},methods:{updateUser:function(){var e=this;b.a.put("http://localhost:3001/users/"+this.$route.params.id,{id:this.$route.params.id,name:this.form.name,sex:this.form.sex,age:this.form.age,phone:this.form.phone,email:this.form.email}).then((function(t){e.$router.push("/")})).catch((function(e){console.log(e)})).finally((function(){}))},addUser:function(){var e=this;b.a.post("http://localhost:3001/users",this.form).then((function(t){e.$router.push("/")})).catch((function(e){console.log(e)})).finally((function(){}))},init:function(){if(void 0!=this.$route.params.id){var e=this;b.a.get("http://localhost:3001/users/"+this.$route.params.id).then((function(t){e.form=t.data})).catch((function(e){console.log(e)})).finally((function(){}))}}},mounted:function(){this.init()}}),k=_,$=(r("0f0a"),Object(l["a"])(k,x,y,!1,null,"edfadb26",null)),P=$.exports;n["default"].use(c["a"]);var w=[{path:"/",name:"list",component:g},{path:"/user",name:"userFormAdd",component:P},{path:"/user/:id",name:"userFormUpdate",component:P}],O=new c["a"]({routes:w}),j=O,E=r("5f5b");r("f9e3"),r("2dd8");n["default"].config.productionTip=!1,n["default"].use(E["a"]),new n["default"]({router:j,render:function(e){return e(i)}}).$mount("#app")},"8c12":function(e,t,r){},acd2:function(e,t,r){},bd9a:function(e,t,r){"use strict";var n=r("8c12"),a=r.n(n);a.a}});
//# sourceMappingURL=app.f27fc2e0.js.map